<!DOCTYPE html>
<html data-require="math graphie graphie-3d math-format interactive">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Solid geometry</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
<div class="exercise">
    <div class="problems">
        <div id="int-tripri-V">
            <div class="vars">
                <var id="HEIGHT">randRange(2, 5)</var>
                <var id="BASE">HEIGHT * 2</var>
                <var id="SIDE">"" + HEIGHT + "\\sqrt{2}"</var>
                <var id="DEPTH">randRange(3, 7)</var>
                <var id="XANGLE">PI / 15</var>
                <var id="YANGLE">-PI / 8</var>
                <var id="SCALE">5.0</var>
                <var id="VERTICES">[
                    [-1, 0.5, 1],
                    [1, 0.5, 1],
                    [0, -0.5, 1],
                    [-1, 0.5, -1],
                    [1, 0.5, -1],
                    [0, -0.5, -1]
                ]</var>
                <var id="FACES">[
                    {
                        verts: [0, 2, 1],
                        color: GRAY,
                        lines: [[[0, -0.5, 1], [0, 0.5, 1]]],
                        labels: [[[0, 0, 1], HEIGHT]]
                    }, {
                        verts: [3, 4, 5],
                        color: GRAY,
                        lines: [[[-0.03, -0.47, -1], [0.95, 0.5, -1]]],
                        labels: [[[0.2, -0.08, -1], SIDE]]
                    }, {
                        verts: [0, 1, 4, 3],
                        color: ORANGE,
                        lines: [[[1, 0.5, 0], [-1, 0.5, 0]]],
                        labels: [[[0, 0.5, 0], BASE]]
                    }, {
                        verts: [1, 2, 5, 4],
                        color: BLUE,
                        lines: [[[0.5, 0, 1], [0.5, 0, -1]]],
                        labels: [[[0.5, 0, 0], DEPTH]]
                    }, {
                        verts: [0, 3, 5, 2],
                        color: GREEN,
                        lines: [[[-1, 0.5, 0], [0, -0.5, 0]]],
                        labels: [[[-0.5, 0, 0], SIDE]]
                    }
                ]</var>
                <var id="GRAPH">{}</var>
                <var id="UNWRAPGRAPH">{}</var>
            </div>

            <p class="question">
                What is the volume of this object? Drag on the object to rotate it.
            </p>
            <div class="problem">
                <div class="graphie">
                    init({range: [[-2, 2], [-2, 2]], scale: [100, 100]});
                    addMouseLayer();

                    graph.obj = makeObject(VERTICES, { scale: SCALE });
                    _.each(FACES, function(face) {
                        graph.obj.addFace(face);
                    });

                    graph.obj.setPos([0, 0, 5]);

                    graph.obj.rotate(1, 0, 0, YANGLE);
                    graph.obj.rotate(0, 1, 0, XANGLE);

                    graph.obj.doDraw();

                    GRAPH = graph;

                    var spinner;
                    setTimeout(function() {
                        spinner = setInterval(function() {
                            GRAPH.obj.rotate(0, 1, 0, 0.01);
                            GRAPH.obj.doDraw();
                        }, 50);
                    }, 300);

                    var mouseTarget = mouselayer.rect(0, 0, 40 * 10, 40 * 10).attr({
                        fill: "#000", opacity: 0.0
                    });
                    $(mouseTarget[0]).bind("vmousedown", function(event) {
                        GRAPH.lastX = event.pageX;
                        GRAPH.lastY = event.pageY;

                        clearInterval(spinner);

                        $(document).bind("vmousemove vmouseup", function(event) {
                            event.preventDefault();

                            var dx = (event.pageX - GRAPH.lastX) / 200 * PI;
                            var dy = (event.pageY - GRAPH.lastY) / 200 * PI;

                            GRAPH.lastX = event.pageX;
                            GRAPH.lastY = event.pageY;

                            var xAxis = GRAPH.obj.perspective[1];
                            var yAxis = GRAPH.obj.perspective[0];

                            GRAPH.obj.rotate(xAxis[0], xAxis[1], xAxis[2], -dx / 2);
                            GRAPH.obj.rotate(yAxis[0], yAxis[1], yAxis[2], -dy / 2);

                            GRAPH.obj.doDraw();

                            if (event.type === "vmouseup") {
                                $(document).unbind("vmousemove vmouseup");
                            }
                        })
                    });

                </div>
            </div>

            <div class="solution" data-type="decimal">
                <var>DEPTH * BASE * HEIGHT / 2</var>
            </div>
        </div>

        <div id="int-box-V" data-type="int-tripri-V">
            <div class="vars" data-apply="prependContents">
                <var id="LENGTH">randRange(2, 7)</var>
                <var id="WIDTH">randRange(2, 7)</var>
                <var id="HEIGHT">randRange(2, 7)</var>
                <var id="MAX">max(max(LENGTH, WIDTH), HEIGHT)</var>
                <var id="XBORD">LENGTH/MAX</var>
                <var id="YBORD">WIDTH/MAX</var>
                <var id="ZBORD">HEIGHT/MAX</var>
            </div>
            <div class="vars">
                <var id="YANGLE">-PI / 8</var>
                <var id="XANGLE">0</var>
                <var id="VERTICES">[
                    [LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                    [LENGTH/MAX, WIDTH/MAX, -HEIGHT/MAX],
                    [LENGTH/MAX, -WIDTH/MAX, -HEIGHT/MAX],
                    [LENGTH/MAX, -WIDTH/MAX, HEIGHT/MAX],
                    [-LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                    [-LENGTH/MAX, WIDTH/MAX, -HEIGHT/MAX],
                    [-LENGTH/MAX, -WIDTH/MAX, -HEIGHT/MAX],
                    [-LENGTH/MAX, -WIDTH/MAX, HEIGHT/MAX]
                ]</var>
                <var id="SCALE">4.0</var>
                <var id="FACES">[
                    {
                        verts: [3, 2, 1, 0],
                        color: BLUE,
                        labels: [[[XBORD, 0, ZBORD], WIDTH]]
                    }, {
                        verts: [4, 5, 6, 7],
                        color: BLUE,
                        labels: [[[-XBORD, 0, -ZBORD], WIDTH]]
                    }, {
                        verts: [0, 1, 5, 4],
                        color: GRAY,
                        labels: [[[-XBORD, YBORD, 0], HEIGHT]]
                    }, {
                        verts: [2, 3, 7, 6],
                        color: GRAY,
                        labels: [[[-XBORD, -YBORD, 0], HEIGHT]]
                    }, {
                        verts: [1, 2, 6, 5],
                        color: GREEN,
                        labels: [[[0, -YBORD, -ZBORD], LENGTH]]
                    }, {
                        verts: [3, 0, 4, 7],
                        color: GREEN,
                        labels: [[[0, YBORD, ZBORD], LENGTH]]
                    }
                ]</var>
            </div>

            <p class="question">
                What is the volume of this box? Drag on the box to rotate it.
            </p>

            <div class="solution">
                <var>LENGTH * WIDTH * HEIGHT</var>
            </div>

            <div class="hints">
                <p>The volume of a box is the
                    length <code>\times</code>
                    width <code>\times</code>
                    height.</p>
                <p>From the figure, we can find that the
                    lengths of the sides are
                    <code><var>LENGTH</var></code>,
                    <code><var>WIDTH</var></code>,
                    and <code><var>HEIGHT</var></code>.</p>
                <p>To find the volume, we just multiply
                    these side lengths together.</p>
                <p>
                    <code><var>LENGTH</var> \times
                        <var>WIDTH</var> \times
                        <var>HEIGHT</var></code>
                </p>
                <p>
                    <code>= <var>LENGTH * WIDTH * HEIGHT</var></code>
                </p>
                <p>Thus, the volume of the box is
                    <code><var>LENGTH * WIDTH * HEIGHT</var></code>.</p>
            </div>
        </div>

        <div id="int-box-T" data-type="int-box-V">
            <p class="question">
                What is the surface area of this box?
                Drag on the box to rotate it.
            </p>

            <div class="solution">
                <var>2 * LENGTH * WIDTH +
                    2 * LENGTH * HEIGHT +
                    2 * WIDTH * HEIGHT</var>
            </div>

            <div class="hints">
                <p>To find the surface area, find the areas
                of each of the faces, and add all the areas up.</p>
                <div>
                    <p>To see this better, let's try unwrapping the box:
                    <input type="submit" value="Unwrap!"
                        onclick="KhanUtil.tmpl.getVAR('UNWRAPGRAPH.unwrap()')"
                    /></p>
                    <div class="graphie">
                        var verts = [
                            [LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                            [LENGTH/MAX, WIDTH/MAX, -HEIGHT/MAX],
                            [LENGTH/MAX, -WIDTH/MAX, -HEIGHT/MAX],
                            [LENGTH/MAX, -WIDTH/MAX, HEIGHT/MAX],
                            [-LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                            [-LENGTH/MAX, WIDTH/MAX, -HEIGHT/MAX],
                            [-LENGTH/MAX, -WIDTH/MAX, -HEIGHT/MAX],
                            [-LENGTH/MAX, -WIDTH/MAX, HEIGHT/MAX],
                            [LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                            [LENGTH/MAX, -WIDTH/MAX, HEIGHT/MAX],
                            [-LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                            [-LENGTH/MAX, -WIDTH/MAX, HEIGHT/MAX],
                            [LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                            [-LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX]
                        ];

                        var faces = [
                            {
                                verts: [5, 6, 2, 1],
                                color: GREEN
                            }, {
                                verts: [4, 5, 1, 0],
                                color: GRAY
                            }, {
                                verts: [6, 7, 3, 2],
                                color: GRAY
                            }, {
                                verts: [1, 2, 9, 8],
                                color: BLUE
                            }, {
                                verts: [6, 5, 10, 11],
                                color: BLUE
                            }, {
                                verts: [13, 12, 3, 7],
                                color: GREEN
                            }, {
                                verts: [0, 1, 5, 4],
                                color: GRAY
                            }, {
                                verts: [11, 10, 5, 6],
                                color: BLUE
                            }, {
                                verts: [7, 3, 12, 13],
                                color: GREEN
                            }
                        ];

                        var size = 2 * WIDTH / MAX + 2 * HEIGHT / MAX;
                        console.log(size);
                        init({range: [[-2, 2], [-2, 2]], scale: [100, 100]});

                        graph.obj = makeObject(verts);
                        _.each(faces, function(face) {
                            graph.obj.addFace(face);
                        });

                        graph.obj.setPos([0, -0.6, 5]);

                        graph.obj.rotate(1, 0, 0, PI / 8);
                        graph.obj.rotate(0, 1, 0, PI / 10);

                        graph.obj.setScale(8 / size);

                        graph.obj.doDraw();

                        UNWRAPGRAPH = graph;
                        UNWRAPGRAPH.unwrapped = false;

                        graph.unwrap = function() {
                            if (UNWRAPGRAPH.unwrapped) {
                                return;
                            }

                            UNWRAPGRAPH.unwrapped = true;

                            var last = 0;

                            $({ t: 0 }).animate({ t: PI },
                            {
                                duration: 3000,
                                easing: "linear",
                                step: function(now, fx) {
                                    verts[4][2] = verts[0][2] =
                                        cos(now) * HEIGHT / MAX;

                                    verts[4][1] = verts[0][1] =
                                        WIDTH / MAX +
                                        2 * cos((PI - now) / 2) * HEIGHT / MAX;

                                    verts[3][2] = verts[7][2] =
                                        cos(now) * HEIGHT / MAX;

                                    verts[3][1] = verts[7][1] =
                                        -WIDTH / MAX -
                                        2 * cos((PI - now) / 2) * HEIGHT / MAX;

                                    verts[8][2] = verts[9][2] =
                                        cos(now) * HEIGHT / MAX;

                                    verts[8][0] = verts[9][0] =
                                        LENGTH / MAX +
                                        2 * cos((PI - now) / 2) * HEIGHT / MAX;

                                    verts[10][2] = verts[11][2] =
                                        cos(now) * HEIGHT / MAX;

                                    verts[10][0] = verts[11][0] =
                                        -LENGTH / MAX -
                                        2 * cos((PI - now) / 2) * HEIGHT / MAX;

                                    verts[12][2] = verts[13][2] =
                                        cos(now) * HEIGHT / MAX +
                                        2 * sin(now) * WIDTH / MAX;

                                    verts[12][1] = verts[13][1] =
                                        -WIDTH / MAX -
                                        2 * cos(PI / 2 -
                                        now / 2) * HEIGHT / MAX +
                                        2 * cos(now) * WIDTH / MAX;

                                    if (now < PI / 2) {
                                        UNWRAPGRAPH.obj.rotate(0, 1, 0,
                                            -2 / 10 * (now - last));
                                    } else {
                                        UNWRAPGRAPH.obj.rotate(1, 0, 0,
                                            -2 / 8 * (now - last));
                                    }

                                    last = now;

                                    UNWRAPGRAPH.obj.doDraw();
                                }
                            });
                        };
                    </div>
                </div>
                <div id="unwrapped" data-unwrap>
                    <div>
                        <p>We can group the faces together
                            based on size and color:</p>
                        <div class="graphie">
                            var width = WIDTH + 2 + LENGTH + 2 + HEIGHT + 2;
                            var height = max(max(WIDTH, LENGTH), HEIGHT) + 1;
                            init({range: [[-1, width + 1], [-1, height + 1]], scale: [400 / width, 400 / width]});

                            path([[0, 0],
                                  [0, WIDTH],
                                  [HEIGHT, WIDTH],
                                  [HEIGHT, 0],
                                  true],
                                 { stroke: "black", strokeWidth: 1, fill: BLUE });
                            path([[1, 1],
                                  [1, 1 + WIDTH],
                                  [1 + HEIGHT, 1 + WIDTH],
                                  [1 + HEIGHT, 1],
                                  true],
                                 { stroke: "black", strokeWidth: 1, fill: BLUE });
                            label([1 + HEIGHT / 2 - 0.2, WIDTH + 1 + 0.2], HEIGHT, "below");
                            label([1 + HEIGHT + 0.1, 1 + WIDTH / 2], WIDTH, "left");

                            path([[HEIGHT + 2, 0],
                                  [HEIGHT + 2, LENGTH],
                                  [HEIGHT + 2 + WIDTH, LENGTH],
                                  [HEIGHT + 2 + WIDTH, 0],
                                  true],
                                 { stroke: "black", strokeWidth: 1, fill: GREEN });
                            path([[1 + HEIGHT + 2, 1],
                                  [1 + HEIGHT + 2, 1 + LENGTH],
                                  [1 + HEIGHT + 2 + WIDTH, 1 + LENGTH],
                                  [1 + HEIGHT + 2 + WIDTH, 1],
                                  true],
                                 { stroke: "black", strokeWidth: 1, fill: GREEN });
                            label([3 + HEIGHT + WIDTH / 2 - 0.2, 1 + LENGTH + 0.2], WIDTH, "below");
                            label([1 + HEIGHT + 2 + WIDTH + 0.1, 1 + LENGTH / 2], LENGTH, "left");

                            path([[4 + HEIGHT + WIDTH, 0],
                                  [4 + HEIGHT + WIDTH, HEIGHT],
                                  [4 + HEIGHT + WIDTH + LENGTH, HEIGHT],
                                  [4 + HEIGHT + WIDTH + LENGTH, 0],
                                  true],
                                 { stroke: "black", strokeWidth: 1, fill: GRAY });
                            path([[1 + 4 + HEIGHT + WIDTH, 1],
                                  [1 + 4 + HEIGHT + WIDTH, 1 + HEIGHT],
                                  [1 + 4 + HEIGHT + WIDTH + LENGTH, 1 + HEIGHT],
                                  [1 + 4 + HEIGHT + WIDTH + LENGTH, 1],
                                  true],
                                 { stroke: "black", strokeWidth: 1, fill: GRAY });
                            label([5 + HEIGHT + WIDTH + LENGTH / 2 - 0.2, 1 + HEIGHT + 0.2], LENGTH, "below");
                            label([5 + HEIGHT + WIDTH + LENGTH + 0.1, 1 + HEIGHT / 2], HEIGHT, "left");
                        </div>
                    </div>
                    <div>
                        <p>We can calculate the area of each of the pieces now:</p>
                        <code>\Large{2 \left(<var>WIDTH</var> \times <var>HEIGHT</var>\right) +
                            2 \left(<var>LENGTH</var> \times <var>WIDTH</var>\right) +
                            2 \left(<var>HEIGHT</var> \times <var>LENGTH</var>\right)}</code>
                    </div>
                    <p>
                        <code>\Large{= <var>2 * WIDTH * HEIGHT</var> +
                                     <var>2 * LENGTH * WIDTH</var> +
                                     <var>2 * HEIGHT * LENGTH</var>}</code>
                    </p>
                    <p>
                        <code>\Large{= <var>2 * WIDTH * HEIGHT + 2 * LENGTH * WIDTH + 2 * HEIGHT * LENGTH</var>}</code>
                    </p>
                    <p>
                        Thus, the total surface area of the box is
                        <code><var>2 * WIDTH * HEIGHT + 2 * LENGTH * WIDTH + 2 * HEIGHT * LENGTH</var></code>.
                    </p>
                </div>
            </div>
        </div>

        <div id="int-cube-V" data-type="int-box-V">
            <div class="vars" data-apply="appendContents">
                <var id="LENGTH">randRange(2, 7)</var>
                <var id="WIDTH">LENGTH</var>
                <var id="HEIGHT">LENGTH</var>
            </div>

            <p class="question">
                What is the volume of this cube? Drag on the cube to rotate it.
            </p>
        </div>

        <div id="int-cube-T" data-type="int-box-T">
            <div class="vars" data-apply="appendContents">
                <var id="LENGTH">randRange(2, 7)</var>
                <var id="WIDTH">LENGTH</var>
                <var id="HEIGHT">LENGTH</var>
            </div>

            <p class="question">
                What is the surface area of this cube? Drag on the cube to rotate it.
            </p>

            <div class="hints" data-apply="appendContents">
                <div id="unwrapped" data-unwrap>
                    <p>Here, we can see that all of the six sides have the same size.</p>
                    <div>
                        To find the total area, we can just group the sides together.
                        <div class="graphie">
                            var width = WIDTH + 5;
                            var height = WIDTH + 2;
                            init({range: [[-1, width + 1], [-1, height + 1]], scale: [300 / width, 300 / width]});

                            var colors = [GRAY, GRAY, BLUE, BLUE, GREEN, GREEN];

                            for (var i = 0; i < 6; ++i) {
                                path([[i, i / 3],
                                      [i, i / 3 + WIDTH],
                                      [i + HEIGHT, i / 3 + WIDTH],
                                      [i + HEIGHT, i / 3],
                                      true],
                                     { stroke: "black", strokeWidth: 1, fill: colors[i] });
                            }
                            label([5 + WIDTH / 2 - 0.2, 5 / 3 + WIDTH + 0.1], WIDTH, "below");
                            label([5 + WIDTH, 5 / 3 + WIDTH / 2], WIDTH, "left");
                        </div>
                    </div>
                    <div>
                        <p>We can now calculate the total area:</p>
                        <code>\Large{6 \left(<var>WIDTH</var> \times <var>WIDTH</var>\right)}</code>
                    </div>
                    <p>
                        <code>\Large{6 \times <var>WIDTH * WIDTH</var>}</code>
                    </p>
                    <p>
                        <code>\Large{<var>6 * WIDTH * WIDTH</var>}</code>
                    </p>
                    <p>
                        Thus, the total surface area of the cube is
                        <code><var>6 * WIDTH * WIDTH</var></code>.
                    </p>
                </div>
            </div>
        </div>

        <div id="cylinder-V">
            <div class="vars">
                <var id="r">randRange( 2, 4 )</var>
                <var id="h">randRange( 5, 9 )</var>
            </div>

            <div class="question">
                <p>What is the volume of a cylinder with base radius <code><var>r</var></code> and height <code><var>h</var></code>?</p>

                <div class="graphie">
                    init({
                        range: [ [-1, 4], [-2, 4] ]
                    });

                    arc( [1.5, 3], [1.5, 0.4], 0, 48 );
                    arc( [1.5, 3], [1.5, 0.4], 70, 360 );
                    path([ [0, -1], [0, 3] ]);
                    path([ [3, -1], [3, 3] ]);
                    arc( [1.5, -1], [1.5, 0.4], 0, 180, {
                        strokeDasharray: "- "
                    } );
                    arc( [1.5, -1], [1.5, 0.4], 180, 360 );

                    path([ [1.5, 3], [3, 3] ]);
                    label( [2.25, 3], r, "above" );
                    label( [3, 1], h, "right" );
                </div>
            </div>

            <div class="solution" data-type="multiple">
                <p><span class="sol" data-forms="pi"><var>Math.PI * r * r * h</var></span> Cubic Units</p>
            </div>

            <div class="hints">
                <p>The area of the base is simply the area of a circle: <code>\pi r^2 = \pi \cdot <var>r</var>^2 = <var>r * r</var> \pi</code>.</p>
                <p>The volume of the cylinder is the area of the base times the height: <code>B \cdot h = <var>r * r</var>\pi \cdot <var>h</var> = <var>r * r * h</var>\pi</code>.</p>
            </div>
        </div>

        <div id="cylinder-T">
            <div class="vars">
                <var id="r">randRange( 2, 4 )</var>
                <var id="h">randRange( 5, 9 )</var>
            </div>

            <div class="question">
                <p>What is the surface area of a cylinder with base radius <code><var>r</var></code> and height <code><var>h</var></code>?</p>

                <div class="graphie">
                    init({
                        range: [ [-1, 4], [-2, 4] ]
                    });

                    arc( [1.5, 3], [1.5, 0.4], 0, 48 );
                    arc( [1.5, 3], [1.5, 0.4], 70, 360 );
                    path([ [0, -1], [0, 3] ]);
                    path([ [3, -1], [3, 3] ]);
                    arc( [1.5, -1], [1.5, 0.4], 0, 180, {
                        strokeDasharray: "- "
                    } );
                    arc( [1.5, -1], [1.5, 0.4], 180, 360 );

                    path([ [1.5, 3], [3, 3] ]);
                    label( [2.25, 3], r, "above" );
                    label( [3, 1], h, "right" );
                </div>
            </div>

            <div class="solution" data-type="multiple">
                <p><span class="sol" data-forms="pi"><var>Math.PI * 2 * r * ( r + h )</var></span> Square Units</p>
            </div>

            <div class="hints">
                <p>The areas of the top and the base are simply the area of a circle: <code>\pi r^2 = \pi \cdot <var>r</var>^2 = <var>r * r</var> \pi</code>.</p>
                <p>The lateral surface area is the same as the area of a rectangle with height <code><var>h</var></code> and width equal to the circumference of the base.</p>
                <p>That circumference is <code>2 \pi r = 2\pi \cdot <var>r</var> = <var>2 * r</var>\pi</code>.</p>
                <p>Thus, the lateral surface area is <code>wh = <var>2 * r</var> \pi \cdot <var>h</var> = <var>2 * r * h</var> \pi</code>.</p>
                <p>The total surface area is <code><var>r * r</var> \pi + <var>r * r</var> \pi + <var>2 * r * h</var> \pi = <var>2 * r * ( r + h )</var>\pi</code>.</p>
            </div>
        </div>
    </div>
</div>
</body>
</html>
