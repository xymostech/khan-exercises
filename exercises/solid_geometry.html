<!DOCTYPE html>
<html data-require="math graphie graphie-3d math-format interactive">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Solid geometry</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
<div class="exercise">
    <div class="problems">
        <div id="int-tripri-V">
            <div class="vars">
                <var id="HEIGHT">randRange(2, 5)</var>
                <var id="BASE">HEIGHT * 2</var>
                <var id="SIDE">"" + HEIGHT + "\\sqrt{2}"</var>
                <var id="DEPTH">randRange(3, 7)</var>
                <var id="XANGLE">PI / 15</var>
                <var id="YANGLE">-PI / 8</var>
                <var id="SCALE">5.0</var>
                <var id="VERTICES">[
                    [-1, 0.5, 1],
                    [1, 0.5, 1],
                    [0, -0.5, 1],
                    [-1, 0.5, -1],
                    [1, 0.5, -1],
                    [0, -0.5, -1]
                ]</var>
                <var id="FACES">[
                    {
                        verts: [0, 2, 1],
                        color: GRAY,
                        lines: [[[0, -0.5, 1], [0, 0.5, 1]]],
                        labels: [[[0, 0, 1], HEIGHT]]
                    }, {
                        verts: [3, 4, 5],
                        color: GRAY,
                        lines: [[[-0.03, -0.47, -1], [0.95, 0.5, -1]]],
                        labels: [[[0.2, -0.08, -1], SIDE]]
                    }, {
                        verts: [0, 1, 4, 3],
                        color: ORANGE,
                        lines: [[[1, 0.5, 0], [-1, 0.5, 0]]],
                        labels: [[[0, 0.5, 0], BASE]]
                    }, {
                        verts: [1, 2, 5, 4],
                        color: BLUE,
                        lines: [[[0.5, 0, 1], [0.5, 0, -1]]],
                        labels: [[[0.5, 0, 0], DEPTH]]
                    }, {
                        verts: [0, 3, 5, 2],
                        color: GREEN,
                        lines: [[[-1, 0.5, 0], [0, -0.5, 0]]],
                        labels: [[[-0.5, 0, 0], SIDE]]
                    }
                ]</var>
            </div>

            <p class="question">
                What is the volume of this object? Drag on the object to rotate it.
            </p>
            <div class="problem">
                <div class="graphie">
                    init({range: [[-2, 2], [-2, 2]], scale: [100, 100]});
                    addMouseLayer();

                    graph.obj = makeObject(VERTICES);
                    _.each(FACES, function(face) {
                        graph.obj.addFace(face);
                    });

                    graph.obj.setPos([0, 0, 5]);

                    graph.obj.setScale(SCALE);

                    graph.obj.rotate(1, 0, 0, YANGLE);
                    graph.obj.rotate(0, 1, 0, XANGLE);

                    graph.obj.doDraw();

                    var spinner;
                    setTimeout(function() {
                        spinner = setInterval(function() {
                            graph.obj.rotate(0, 1, 0, 0.01);
                            graph.obj.doDraw();
                        }, 50);
                    }, 300);

                    var mouseTarget = mouselayer.rect(0, 0, 40 * 10, 40 * 10).attr({
                        fill: "#000", opacity: 0.0
                    });
                    $(mouseTarget[0]).bind("vmousedown", function(event) {
                        graph.lastX = event.pageX;
                        graph.lastY = event.pageY;

                        clearInterval(spinner);

                        $(document).bind("vmousemove vmouseup", function(event) {
                            event.preventDefault();

                            var dx = (event.pageX - graph.lastX) / 200 * PI;
                            var dy = (event.pageY - graph.lastY) / 200 * PI;

                            graph.lastX = event.pageX;
                            graph.lastY = event.pageY;

                            var xAxis = graph.obj.perspective[1];
                            var yAxis = graph.obj.perspective[0];

                            graph.obj.rotate(xAxis[0], xAxis[1], xAxis[2], -dx / 2);
                            graph.obj.rotate(yAxis[0], yAxis[1], yAxis[2], -dy / 2);

                            graph.obj.doDraw();

                            if (event.type === "vmouseup") {
                                $(document).unbind("vmousemove vmouseup");
                            }
                        })
                    });

                </div>
            </div>

            <div class="solution" data-type="decimal">
                <var>DEPTH * BASE * HEIGHT / 2</var>
            </div>
        </div>

        <div id="int-box-V" data-type="int-tripri-V">
            <div class="vars" data-apply="prependContents">
                <var id="LENGTH">randRange(1, 7)</var>
                <var id="WIDTH">randRange(1, 7)</var>
                <var id="HEIGHT">randRange(1, 7)</var>
                <var id="MAX">max(max(LENGTH, WIDTH), HEIGHT)</var>
                <var id="XBORD">LENGTH/MAX</var>
                <var id="YBORD">WIDTH/MAX</var>
                <var id="ZBORD">HEIGHT/MAX</var>
            </div>
            <div class="vars">
                <var id="YANGLE">-PI / 8</var>
                <var id="XANGLE">0</var>
                <var id="VERTICES">[
                    [LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                    [LENGTH/MAX, WIDTH/MAX, -HEIGHT/MAX],
                    [LENGTH/MAX, -WIDTH/MAX, -HEIGHT/MAX],
                    [LENGTH/MAX, -WIDTH/MAX, HEIGHT/MAX],
                    [-LENGTH/MAX, WIDTH/MAX, HEIGHT/MAX],
                    [-LENGTH/MAX, WIDTH/MAX, -HEIGHT/MAX],
                    [-LENGTH/MAX, -WIDTH/MAX, -HEIGHT/MAX],
                    [-LENGTH/MAX, -WIDTH/MAX, HEIGHT/MAX],
                ]</var>
                <var id="SCALE">4.0</var>
                <var id="FACES">[
                    {
                        verts: [3, 2, 1, 0],
                        color: BLUE,
                        labels: [[[XBORD, 0, ZBORD], WIDTH]]
                    }, {
                        verts: [4, 5, 6, 7],
                        color: BLUE,
                        labels: [[[-XBORD, 0, -ZBORD], WIDTH]]
                    }, {
                        verts: [0, 1, 5, 4],
                        color: GRAY,
                        labels: [[[-XBORD, YBORD, 0], HEIGHT]]
                    }, {
                        verts: [2, 3, 7, 6],
                        color: GRAY,
                        labels: [[[-XBORD, -YBORD, 0], HEIGHT]]
                    }, {
                        verts: [1, 2, 6, 5],
                        color: GREEN,
                        labels: [[[0, -YBORD, -ZBORD], LENGTH]]
                    }, {
                        verts: [3, 0, 4, 7],
                        color: GREEN,
                        labels: [[[0, YBORD, ZBORD], LENGTH]]
                    }
                ]</var>
            </div>

            <p class="question">
                What is the volume of this box? Drag on the box to rotate it.
            </p>

            <div class="solution">
                <var>LENGTH * WIDTH * HEIGHT</var>
            </div>
        </div>

        <div id="int-box-T" data-type="int-box-V">
            <p class="question">
                What is the surface area of this box? Drag on the box to rotate it.
            </p>

            <div class="solution">
                <var>2 * LENGTH * WIDTH + 2 * LENGTH * HEIGHT + 2 * WIDTH * HEIGHT</var>
            </div>
        </div>

        <div id="int-cube-V" data-type="int-box-V">
            <div class="vars" data-apply="appendContents">
                <var id="LENGTH">randRange(1, 7)</var>
                <var id="WIDTH">LENGTH</var>
                <var id="HEIGHT">LENGTH</var>
            </div>

            <p class="question">
                What is the volume of this cube? Drag on the cube to rotate it.
            </p>
        </div>

        <div id="int-cube-T" data-type="int-box-T">
            <div class="vars" data-apply="appendContents">
                <var id="LENGTH">randRange(1, 7)</var>
                <var id="WIDTH">LENGTH</var>
                <var id="HEIGHT">LENGTH</var>
            </div>

            <p class="question">
                What is the surface area of this cube? Drag on the cube to rotate it.
            </p>
        </div>

        <div id="cylinder-V">
            <div class="vars">
                <var id="r">randRange( 2, 4 )</var>
                <var id="h">randRange( 5, 9 )</var>
            </div>

            <div class="question">
                <p>What is the volume of a cylinder with base radius <code><var>r</var></code> and height <code><var>h</var></code>?</p>

                <div class="graphie">
                    init({
                        range: [ [-1, 4], [-2, 4] ]
                    });

                    arc( [1.5, 3], [1.5, 0.4], 0, 48 );
                    arc( [1.5, 3], [1.5, 0.4], 70, 360 );
                    path([ [0, -1], [0, 3] ]);
                    path([ [3, -1], [3, 3] ]);
                    arc( [1.5, -1], [1.5, 0.4], 0, 180, {
                        strokeDasharray: "- "
                    } );
                    arc( [1.5, -1], [1.5, 0.4], 180, 360 );

                    path([ [1.5, 3], [3, 3] ]);
                    label( [2.25, 3], r, "above" );
                    label( [3, 1], h, "right" );
                </div>
            </div>

            <div class="solution" data-type="multiple">
                <p><span class="sol" data-forms="pi"><var>Math.PI * r * r * h</var></span> Cubic Units</p>
            </div>

            <div class="hints">
                <p>The area of the base is simply the area of a circle: <code>\pi r^2 = \pi \cdot <var>r</var>^2 = <var>r * r</var> \pi</code>.</p>
                <p>The volume of the cylinder is the area of the base times the height: <code>B \cdot h = <var>r * r</var>\pi \cdot <var>h</var> = <var>r * r * h</var>\pi</code>.</p>
            </div>
        </div>

        <div id="cylinder-T">
            <div class="vars">
                <var id="r">randRange( 2, 4 )</var>
                <var id="h">randRange( 5, 9 )</var>
            </div>

            <div class="question">
                <p>What is the surface area of a cylinder with base radius <code><var>r</var></code> and height <code><var>h</var></code>?</p>

                <div class="graphie">
                    init({
                        range: [ [-1, 4], [-2, 4] ]
                    });

                    arc( [1.5, 3], [1.5, 0.4], 0, 48 );
                    arc( [1.5, 3], [1.5, 0.4], 70, 360 );
                    path([ [0, -1], [0, 3] ]);
                    path([ [3, -1], [3, 3] ]);
                    arc( [1.5, -1], [1.5, 0.4], 0, 180, {
                        strokeDasharray: "- "
                    } );
                    arc( [1.5, -1], [1.5, 0.4], 180, 360 );

                    path([ [1.5, 3], [3, 3] ]);
                    label( [2.25, 3], r, "above" );
                    label( [3, 1], h, "right" );
                </div>
            </div>

            <div class="solution" data-type="multiple">
                <p><span class="sol" data-forms="pi"><var>Math.PI * 2 * r * ( r + h )</var></span> Square Units</p>
            </div>

            <div class="hints">
                <p>The areas of the top and the base are simply the area of a circle: <code>\pi r^2 = \pi \cdot <var>r</var>^2 = <var>r * r</var> \pi</code>.</p>
                <p>The lateral surface area is the same as the area of a rectangle with height <code><var>h</var></code> and width equal to the circumference of the base.</p>
                <p>That circumference is <code>2 \pi r = 2\pi \cdot <var>r</var> = <var>2 * r</var>\pi</code>.</p>
                <p>Thus, the lateral surface area is <code>wh = <var>2 * r</var> \pi \cdot <var>h</var> = <var>2 * r * h</var> \pi</code>.</p>
                <p>The total surface area is <code><var>r * r</var> \pi + <var>r * r</var> \pi + <var>2 * r * h</var> \pi = <var>2 * r * ( r + h )</var>\pi</code>.</p>
            </div>
        </div>
    </div>
</body>
</html>
